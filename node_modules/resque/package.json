{
  "name": "resque",
  "version": "0.0.3",
  "keywords": [
    "redis",
    "resque",
    "worker",
    "queue"
  ],
  "description": "resque (a redis-backed work queue) for node",
  "contributors": [
    {
      "name": "Jacob Rothstein",
      "url": "http://jacobrothstein.com"
    },
    {
      "name": "technoweenie",
      "url": "rick"
    }
  ],
  "repositories": {
    "type": "git",
    "url": "http://github.com/jbr/node-resque.git"
  },
  "bugs": {
    "url": "http://github.com/jbr/node-resque/issues"
  },
  "dependencies": {
    "redis": ">= 0.3.2"
  },
  "main": "./lib/resque",
  "bin": {
    "node-resque-worker": "./bin/node-resque-worker"
  },
  "readme": "h1. Resque for Node.js\n\np. \"Resque\":http://github.com/defunkt/resque is a \"redis\":http://code.google.com/p/redis/ backed task queue inspired by \"delayed job\":http://github.com/tobi/delayed_job.  \"Node.js\":http://nodejs.org is a javascript runtime built on the \"v8 engine\":http://code.google.com/p/v8/.\n\nh2. Why?\n\nResque.js allows you to chunk together blocks of concurrent code and work through them serially across multiple worker processes & machines.  The advantage of building this as drop-in compatible resque workers is that the monitoring interface (resque-web) is already written and it provides a nice queue interface between Rails and node.  You're probably already running resque for Rails; use it for Node, too. \n\nh2. Install\n\n@npm install resque@ or git clone.\n\nh2. Additional Dependencies\n\n\"Fictorial's Redis client\":http://github.com/fictorial/redis-node-client must be available somewhere on the load path before @resque.js@ is required.\n\nh2. Use\n\nh3. sandwich_worker.js\n\n<pre><code>var sandwichWorker = exports\n\nsandwichWorker.makeMeASandwich = function (sandwich) {\n  var job = this\n  makeSandwich (sandwich, function (err, result) {\n    if (err) job.fail ({ error: err })\n    else job.succeed ()\n  })\n}\n\nsandwichWorker.SomeRubyTask = function () {\n    require ('sys').puts (\"This task could have been pulled off a shared queue\")\n    this.succeed ()\n}\n</code></pre>\n\n@success()@ and @failure(error)@ callbacks are provided and can be passed in through async code to be called on completion, which frees up the worker to take another job off the queue.\n\nh3. Gentlemen, start your workers\n\nTo start the worker, @WORKER=sandwich_worker.js QUEUE=sandwich_factory bin/node-resque-worker@.\nYou can optionally provide a url to redis, like @WORKER=sandwich_worker.js QUEUE=* REDIS=redis.example.com:9876 bin/node-resque-worker@\n\nTo stop the worker gracefully (finishing the last task), send a QUIT signal.\nTo stop the worker less gracefully, send a KILL signal.\n\nh3. Enqueueing tasks\n\n<pre><code>#!/usr/bin/env node\nvar resque = require (\"resque\").connect ()\nresque.enqueue ('sandwich_factory', 'makeMeASandwich',\n  { bread: 'Acme Levain'\n  , cheese: 'Cowgirl Creamery St Pat'\n  , greens: ['arugula']\n  , mustard: true\n  })\n</code></pre>\n\nThis code adds a @makeMeASandwich@ request to the @sandwich_factory@ resque queue.\n\nh3. Namespaces\n\nBy default, resque uses the redis namespace of @resque:@.  If you require resque as follows, you can use a different namespace:\n\n<pre><code>var resque = require (\"resque\").connect ({ namespace: \"node-only\" })\n...</code></pre>\n\nh3. Providing a Redis connection\n\nIf you already are connected to redis in your app, you can use that client instead of creating a new one.  To do so:\n\n<pre><code>var redisClient = require (\"redis\").createClient ()\n  , resque = require (\"resque\").connect ({ redis: redisClient })\n...</code></pre>\n\nh3. Specifying Redis port & host\n\nIf Redis is not running locally or is not bound to the default Redis port & host (localhost:6379), you can provide port and host as follows:\n\n<pre><code>var resque = require (\"resque\").connect ({ host: 'redis.production.example.com', port: 1337 })\n...</code></pre>\n\nh3. Cleaning stale workers\n\nAt any point, you can call @require (\"resque\").connect({...}).cleanStaleWorkers ()@, which will ensure that any dead workers have been removed from resque. This is called at the start of @node-resque-worker@.\n\nh2. Maturity & Contribution\n\nThis is fairly immature code, but we'll be using it for a production app, so it will see significant iteration and improvement in the near future. To help out, fork, commit, push, & request pull.\n\nh2. Contributors\n\n* \"NewsBasis\":http://newsbasis.com/\n* \"technoweenie\":http://github.com/technoweenie\n* You?\n",
  "readmeFilename": "README.textile",
  "_id": "resque@0.0.3",
  "dist": {
    "shasum": "5b6556e00e5dea91dab8ee12db74035f27f39620"
  },
  "_from": "resque@x"
}
